buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$versions.kotlin"
        classpath "de.dynamicfiles.projects.gradle.plugins:javafx-gradle-plugin:$versions.jfxGradlePlugin"
    }
}

apply plugin: 'kotlin'
apply plugin: 'application'
apply plugin: 'javafx-gradle-plugin'

mainClassName = 'io.slychat.messenger.desktop.DesktopApp'

sourceSets.main.resources.srcDirs += "$rootProject.projectDir/ui"
sourceSets.main.resources.srcDirs += "$rootProject.projectDir/desktop-libraries"

dependencies {
    compile project(':ui-services')

    compile "com.vfpowertech:jsbridge-desktop-webengine:$versions.jsbridge"
    compile "nl.komponents.kovenant:kovenant-jfx:$versions.kovenant"
    compile "io.reactivex:rxjavafx:$versions.rxjavafx"

    compile "ch.qos.logback:logback-classic:$versions.logbackClassic"

    compile "org.controlsfx:controlsfx:$versions.controlsFx"

    compile "net.java.dev.jna:jna:$versions.jna"

    //required on osx only
    compile "de.codecentric.centerdevice:centerdevice-nsmenufx:$versions.nsMenuFx"
}

jfx {
    //don't disable this, otherwise errors won't be displayed at all
    verbose = true

    mainClass = mainClassName

    jfxMainAppJarName = 'sly-chat.jar'

    appName = 'sly-chat'

    vendor = 'Keystream Information Systems'
}
